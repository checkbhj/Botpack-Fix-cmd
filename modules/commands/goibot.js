const fs = global.nodemodule["fs-extra"];
const moment = require("moment-timezone");

module.exports.config = {
  name: "goibot",
  version: "1.0.0",
  hasPermission: 0, // Corrected the spelling from "hasPermssion"
  credits: global.config.Codemaker,
  description: "goibot",
  usePrefix: false, // Indicates the use of a prefix
  commandCategory: "noprefix",
  cooldowns: 5 // Cooldown in seconds
};

module.exports.run = function ({ api, event, box }) {
  // Add your command logic here
};

module.exports.handleEvent = async function({ api, event, args, Threads, Users }) {
  try {
    const { threadID, messageID, body, senderID } = event;

    // Ensure body exists to prevent errors
    if (!body) return;

    const time = moment.tz("Asia/Dhaka").format("HH:mm:ss L");
    const name = await Users.getNameUser(senderID);

    const responses = [
      "ASSALA-MUA-LAIKUM ki korte pari apnar jnno",
      "à¦¡à¦¾à¦• à¦¦à¦¿à§Ÿà§‡à¦¨ à¦¨à¦¾à¦¹ à¦†à¦®à¦¿ à¦¬à¦¿à¦œà¦¿à¥¤",
      "à¦†à¦®à¦¿ à¦¬à¦¾à¦‚à¦²à¦¾à¦¦à§‡à¦¶ à¦¯à¦¾à¦šà§à¦›à¦¿ ğŸ«£",
      "à¦à¦¤à§à¦¤ à¦¡à¦¾à¦•à¦¿à¦¸ à¦•à§‡à¦¨ à¦¬à¦¿à§Ÿà§‡ à¦•à¦°à¦¾à§Ÿ à¦¦à¦¿à¦¬",
      "à¦†à¦®à¦¾à¦° à¦¬à¦¸ à¦†à¦®à¦¾à¦•à§‡ à¦ à¦¿à¦• à¦•à¦°à¦¤à§‡à¦›à§‡ à¦¡à¦¾à¦• à¦¦à¦¿à§Ÿà§‡à¦¨ à¦¨à¦¾à¥¤ğŸ¥¹",
      "à¦†à¦¹à¦¾ à¦œà¦¾à¦²à¦¾à¦‡à¦“ à¦¨à¦¾ à¦†à¦®à¦¾à¦•à§‡",
      "à¦à¦¤à§à¦¤ à¦—à§à¦°à§à¦ª à¦ à¦†à¦›à¦¿ à¦•à§‡à¦‰ I Love you à¦¬à¦²à§‡ à¦¨à¦¾à¦¹",
      "à¦à¦‡ à¦œà§€à¦¬à¦¨ à¦°à§‡à¦–à§‡ à¦•à¦¿ à¦²à¦¾à¦­ à¦¯à¦¦à¦¿ à¦†à¦®à¦¾à¦° à¦¬à¦¸ à¦¹à¦¾à¦®à¦¿à¦® à¦à¦° à¦¬à¦¿à§Ÿà§‡ à¦•à¦°à¦¾à§Ÿ à¦¦à¦¿à¦¤à§‡ à¦¨à¦¾ à¦ªà¦¾à¦°à¦¿",
      "à¦¸à¦¬ à¦¸à¦®à§Ÿ à¦«à¦¾à¦œà¦²à¦¾à¦®à¦¿ à¦­à¦¾à¦²à§‹ à¦²à¦¾à¦—à§‡ à¦¨à¦¾",
      "à¦†à¦®à¦¾à¦° à¦¬à¦¸ à¦¹à¦¾à¦®à§€à¦® à¦à¦° à¦—à¦« à¦†à¦›à§‡à¥¤",
      "à¦†à¦®à¦¾à¦•à§‡ à¦¨à¦¾ à¦¡à¦¾à¦•à¦¿ à¦†à¦®à¦¾à¦° à¦¬à¦¸ à¦¹à¦¾à¦®à§€à¦® à¦à¦° à¦¸à¦¾à¦¥à§‡ à¦¤à¦¾à¦° à¦—à¦« à¦à¦° à¦¬à¦¿à§Ÿà§‡ à¦•à¦°à¦¾à§Ÿ à¦¦à§‡à¦¨",
      "à¦†à¦®à¦¿à¦“ à¦¬à¦¿à¦¦à§‡à¦¶ à¦¯à¦¾à¦¬",
      "à¦¤à§‹à¦®à¦¾à¦•à§‡ à¦†à¦®à¦¾à¦° à¦°à¦¾à¦‡à¦¤à§‡ à¦­à¦¾à¦²à§‹ à¦²à¦¾à¦—à§‡",
      "à¦¤à§‹à¦®à¦¾à¦° à¦®à¦¨à¦Ÿà¦¾ à¦†à¦®à¦¾à¦°à§‡ à¦¦à¦¿à§Ÿà¦¾ à¦¦à¦¾à¦“ğŸ™ˆ",
      "à¦­à¦¾à¦²à¦¬à¦¾à¦¸à¦¿ à¦¤à§‹à¦®à¦¾à¦•à§‡",
      "à¦®à§‡à§Ÿà§‡ à¦¹à¦‡à¦²à§‡ à¦‡à¦¨à¦¬à¦•à§à¦¸ à¦ à¦šà¦²à§‡ à¦†à¦¸à§‹ à¦—à§",
      "à¦à¦¤à§à¦¤ à¦­à¦¾à¦²à¦¬à¦¾à¦¸à¦¾ à¦•à¦‡ à¦°à¦¾à¦–à¦¿",
      "à¦¬à§‡à¦¶à¦¿ bot Bot à¦•à¦°à¦²à§‡ leave à¦¨à¦¿à¦¬à§‹ à¦•à¦¿à¦¨à§à¦¤à§ğŸ˜’ğŸ˜’ ",
      "à¦¶à§à¦¨à¦¬à§‹ à¦¨à¦¾ğŸ˜¼à¦¤à§à¦®à¦¿ à¦†à¦®à¦¾à¦•à§‡ à¦ªà§à¦°à§‡à¦® à¦•à¦°à¦¾à¦‡ à¦¦à¦¾à¦“ à¦¨à¦¾à¦‡ğŸ¥ºà¦ªà¦šà¦¾ à¦¤à§à¦®à¦¿ğŸ¥º",
      "à¦à¦¤à§‹ à¦¡à§‡à¦•à§‹ à¦¨à¦¾,à¦ªà§à¦°à§‡à¦® à¦ à¦ªà¦°à§‡ à¦¯à¦¾à¦¬à§‹ à¦¤à§‹ğŸ™ˆ",
      "Bolo Babu, à¦¤à§à¦®à¦¿ à¦•à¦¿ à¦†à¦®à¦¾à¦•à§‡ à¦­à¦¾à¦²à§‹à¦¬à¦¾à¦¸à§‹? ğŸ™ˆğŸ’‹",
      "à¦¬à¦¾à¦° à¦¬à¦¾à¦° à¦¡à¦¾à¦•à¦²à§‡ à¦®à¦¾à¦¥à¦¾ à¦—à¦°à¦® à¦¹à¦¯à¦¼à§‡ à¦¯à¦¾à¦¯à¦¼ à¦•à¦¿à¦¨à§à¦¤à§ğŸ˜‘",
      "à¦¹à§à¦¯à¦¾ à¦¬à¦²à§‹ğŸ˜’, à¦¤à§‹à¦®à¦¾à¦° à¦œà¦¨à§à¦¯ à¦•à¦¿ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿ğŸ˜ğŸ˜‘?",
      "à¦à¦¤à§‹ à¦¡à¦¾à¦•à¦›à¦¿à¦¸ à¦•à§‡à¦¨?à¦—à¦¾à¦²à¦¿ à¦¶à§à¦¨à¦¬à¦¿ à¦¨à¦¾à¦•à¦¿? ğŸ¤¬",
      "I love you januğŸ¥°",
      "à¦†à¦°à§‡ Bolo à¦†à¦®à¦¾à¦° à¦œà¦¾à¦¨ ,à¦•à§‡à¦®à¦¨ à¦†à¦›à§‹?ğŸ˜š ",
      "Bot à¦¬à¦²à§‡ à¦…à¦¸à¦®à§à¦®à¦¾à¦¨ à¦•à¦°à¦›à¦¿,ğŸ˜°ğŸ˜¿",
      "Hop bedağŸ˜¾,Boss à¦¬à¦² bossğŸ˜¼",
      "à¦šà§à¦ª à¦¥à¦¾à¦• ,à¦¨à¦¾à¦‡ à¦¤à§‹ à¦¤à§‹à¦° à¦¦à¦¾à¦¤ à¦­à§‡à¦—à§‡ à¦¦à¦¿à¦¬à§‹ à¦•à¦¿à¦¨à§à¦¤à§",
      "Bot à¦¨à¦¾ , à¦œà¦¾à¦¨à§ à¦¬à¦² à¦œà¦¾à¦¨à§ ğŸ˜˜ ",
      "à¦¬à¦¾à¦° à¦¬à¦¾à¦° Disturb à¦•à¦°à¦›à¦¿à¦¸ à¦•à§‹à¦¨à§‹ğŸ˜¾,à¦†à¦®à¦¾à¦° à¦œà¦¾à¦¨à§à¦° à¦¸à¦¾à¦¥à§‡  à¦†à¦›à¦¿ğŸ˜‹",
      "à¦à¦¤à§‹ à¦¡à¦¾à¦•à¦¿à¦¸ à¦•à§‡à¦¨ğŸ¤¬",
      "à¦†à¦®à¦¾à¦•à§‡ à¦¡à¦¾à¦•à¦²à§‡ ,à¦†à¦®à¦¿ à¦•à¦¿à¦¨à§à¦¤à§ à¦•à¦¿à¦¸ à¦•à¦°à§‡ à¦¦à¦¿à¦¬à§‹ğŸ˜˜ ",
      "à¦†à¦®à¦¾à¦°à§‡ à¦à¦¤à§‹ à¦¡à¦¾à¦•à¦¿à¦¸ à¦¨à¦¾ à¦†à¦®à¦¿ à¦®à¦œà¦¾ à¦•à¦°à¦¾à¦° mood à¦ à¦¨à¦¾à¦‡ à¦à¦–à¦¨ğŸ˜’",
      "à¦¹à§à¦¯à¦¾à¦ à¦œà¦¾à¦¨à§ , à¦à¦‡à¦¦à¦¿à¦• à¦ à¦†à¦¸à§‹ à¦•à¦¿à¦¸ à¦¦à§‡à¦‡ğŸ¤­ ğŸ˜˜",
      "à¦¦à§‚à¦°à§‡ à¦¯à¦¾, à¦¤à§‹à¦° à¦•à§‹à¦¨à§‹ à¦•à¦¾à¦œ à¦¨à¦¾à¦‡, à¦¶à§à¦§à§ bot bot à¦•à¦°à¦¿à¦¸ ğŸ˜‰ğŸ˜‹ğŸ¤£",
      "à¦¤à§‹à¦° à¦•à¦¥à¦¾ à¦¤à§‹à¦° à¦¬à¦¾à¦¡à¦¼à¦¿ à¦•à§‡à¦‰ à¦¶à§à¦¨à§‡ à¦¨à¦¾ ,à¦¤à§‹ à¦†à¦®à¦¿ à¦•à§‹à¦¨à§‹ à¦¶à§à¦¨à¦¬à§‹ ?ğŸ¤”ğŸ˜‚ ",
      "à¦†à¦®à¦¾à¦•à§‡ à¦¡à§‡à¦•à§‹ à¦¨à¦¾,à¦†à¦®à¦¿ à¦¬à§à¦¯à¦¾à¦¸à§à¦¤ à¦†à¦›à¦¿",
      "à¦•à¦¿ à¦¹à¦²à§‹ , à¦®à¦¿à¦¸à§à¦Ÿà§‡à¦• à¦•à¦°à¦šà§à¦›à¦¿à¦¸ à¦¨à¦¾à¦•à¦¿ğŸ¤£",
      "à¦¬à¦²à§‹ à¦•à¦¿ à¦¬à¦²à¦¬à¦¾, à¦¸à¦¬à¦¾à¦° à¦¸à¦¾à¦®à¦¨à§‡ à¦¬à¦²à¦¬à¦¾ à¦¨à¦¾à¦•à¦¿?ğŸ¤­ğŸ¤",
      "à¦•à¦¾à¦²à¦•à§‡ à¦¦à§‡à¦–à¦¾ à¦•à¦°à¦¿à¦¸ à¦¤à§‹ à¦à¦•à¦Ÿà§ ğŸ˜ˆ",
      "à¦¹à¦¾ à¦¬à¦²à§‹, à¦¶à§à¦¨à¦›à¦¿ à¦†à¦®à¦¿ ğŸ˜",
      "à¦†à¦° à¦•à¦¤ à¦¬à¦¾à¦° à¦¡à¦¾à¦•à¦¬à¦¿ ,à¦¶à§à¦¨à¦›à¦¿ à¦¤à§‹",
      "à¦¹à§à¦® à¦¬à¦²à§‹ à¦•à¦¿ à¦¬à¦²à¦¬à§‡ğŸ˜’",
      "à¦¬à¦²à§‹ à¦•à¦¿ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿ à¦¤à§‹à¦®à¦¾à¦° à¦œà¦¨à§à¦¯",
      "à¦†à¦®à¦¿ à¦¤à§‹ à¦…à¦¨à§à¦§ à¦•à¦¿à¦›à§ à¦¦à§‡à¦–à¦¿ à¦¨à¦¾ğŸ¸ ğŸ˜",
      "Bot à¦¨à¦¾ à¦œà¦¾à¦¨à§,à¦¬à¦² ğŸ˜Œ",
      "à¦¬à¦²à§‹ à¦œà¦¾à¦¨à§ ğŸŒš",
      "à¦¤à§‹à¦° à¦•à¦¿ à¦šà§‹à¦–à§‡ à¦ªà¦¡à¦¼à§‡ à¦¨à¦¾ à¦†à¦®à¦¿ à¦¬à§à¦¯à¦¾à¦¸à§à¦¤ à¦†à¦›à¦¿ğŸ˜’",
      "à¦¹à§à¦® à¦œà¦¾à¦¨ à¦¤à§‹à¦®à¦¾à¦° à¦“à¦‡ à¦–à¦¾à¦¨à§‡ à¦‰à¦®à§à¦®à¦¹ğŸ˜‘ğŸ˜˜",
      "à¦†à¦¹ à¦¶à§à¦¨à¦¾ à¦†à¦®à¦¾à¦° à¦¤à§‹à¦®à¦¾à¦° à¦…à¦²à¦¿à¦¤à§‡ à¦—à¦²à¦¿à¦¤à§‡ à¦‰à¦®à§à¦®à¦¾à¦¹ ğŸ˜‡ğŸ˜˜",
      "jang hanga korbağŸ˜’ğŸ˜¬",
      "à¦¹à§à¦® à¦œà¦¾à¦¨ à¦¤à§‹à¦®à¦¾à¦° à¦…à¦‡à¦–à¦¾à¦¨à§‡ à¦‰à¦®à§à¦®à¦®à¦¾à¦¹ğŸ˜·ğŸ˜˜",
      "à¦†à¦¸à¦¸à¦¾à¦²à¦¾à¦®à§ à¦†à¦²à¦¾à¦‡à¦•à§à¦® à¦¬à¦²à§‡à¦¨ à¦†à¦ªà¦¨à¦¾à¦° à¦œà¦¨à§à¦¯ à¦•à¦¿ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿..!ğŸ¥°",
    ];

    const triggers = ["bby", "Bby", "BOT", "bot", "à¦¬à¦Ÿ", "Baby", "baby"];
    const isTriggered = triggers.some((trigger) => body.startsWith(trigger));

    if (isTriggered) {
      const randomResponse = responses[Math.floor(Math.random() * responses.length)];
      const message = `â•­â”€â”€â”€â”€â”€â€¢â—ˆâ€¢â”€â”€â”€â”€â”€â”€â•®\n\nâ„ğƒğğšğ«, ${name}\nğŸ’Œ: ${randomResponse}\n\nâ•°â”€â”€â”€â”€â”€â€¢â—ˆâ€¢â”€â”€â”€â”€â”€â”€â•¯`;

      return api.sendMessage({ body: message }, threadID, messageID);
    }
  } catch (error) {
    console.error("Error in goibot event handler:", error);
  }
};

module.exports.run = function() {
  console.log("The 'goibot' module is running!");
};